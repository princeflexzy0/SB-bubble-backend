# ===========================================
# APPLICATION
# ===========================================
NODE_ENV=development
PORT=3000

# ===========================================
# DATABASE (Supabase)
# ===========================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# ===========================================
# SECURITY
# ===========================================
JWT_SECRET=your_jwt_secret_min_32_chars
ENCRYPTION_KEY=your_encryption_key_32_chars
INTERNAL_API_KEY=your_internal_api_key

# ===========================================
# CORS
# ===========================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# ===========================================
# AWS S3
# ===========================================
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
S3_BUCKET_NAME=your-bucket-name

# ===========================================
# STRIPE
# ===========================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key

# ===========================================
# PAYPAL
# ===========================================
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_MODE=sandbox

# ===========================================
# OPENAI
# ===========================================
OPENAI_API_KEY=sk-your_openai_api_key

# ===========================================
# MESSAGING
# ===========================================
SENDGRID_API_KEY=SG.your_sendgrid_api_key
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ===========================================
# REDIS
# ===========================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your_redis_password

# ===========================================
# MONITORING (Sentry)
# ===========================================
SENTRY_DSN=https://your-key@sentry.io/project-id

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Security Keys (generate with: openssl rand -hex 32)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
HMAC_SECRET=your-hmac-secret-key-here

# ========================================
# ADDITIONAL REQUIRED VARIABLES
# ========================================

# Supabase Service Role (for admin operations)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# HMAC Secret for API request signing
HMAC_SECRET=your-hmac-secret-32-chars

# Internal API Key for service-to-service communication
INTERNAL_API_KEY=your-internal-api-key-here

# AWS Region
AWS_REGION=us-east-1

# S3 Bucket Name
S3_BUCKET=your-bucket-name

# S3 Upload Prefix (folder structure)
S3_UPLOAD_PREFIX=uploads/

# API Version
API_VERSION=v1

# ClamAV (if using antivirus scanning)
CLAMAV_HOST=localhost
CLAMAV_PORT=3310

# Logtail (if using)
LOGTAIL_SOURCE_TOKEN=your-logtail-token

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# ============================================
# JWT Authentication
# ============================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# HMAC Request Signing
# ============================================
HMAC_SECRET=your-hmac-secret-key-for-request-signing-change-this

# ============================================
# Antivirus Scanning (ClamAV)
# ============================================
ENABLE_ANTIVIRUS_SCAN=false
CLAMAV_HOST=localhost
CLAMAV_PORT=3310

# ============================================
# HMAC Request Signing (Separate from API Key)
# ============================================
INTERNAL_HMAC_SECRET=your-long-random-hmac-secret-minimum-64-chars-change-in-production

# ============================================
# PayPal Webhook Configuration
# ============================================
PAYPAL_WEBHOOK_ID=your-paypal-webhook-id-from-developer-dashboard

# ============================================
# API Key Rotation (FIX #9)
# ============================================
INTERNAL_API_KEY_V1=old-api-key-during-rotation
INTERNAL_API_KEY_V2=new-api-key-during-rotation

# ============================================
# Additional Security Configuration
# ============================================

# Request Size Limits (already in app.js)
REQUEST_SIZE_LIMIT=1mb

# HTTPS Redirect (already in app.js)
FORCE_HTTPS=true

# API Key Rotation Support
# INTERNAL_API_KEY_V1=old-key-during-rotation
# INTERNAL_API_KEY_V2=new-key-during-rotation

# PayPal Webhook Verification
# PAYPAL_WEBHOOK_ID=your-webhook-id-from-paypal-dashboard

# ============================================
# CSRF Protection (Production only)
# ============================================
ENABLE_CSRF=false  # Set to 'true' in production

# Monitoring Configuration
SENTRY_DSN=your_sentry_dsn_here
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1
LOG_LEVEL=info

# Worker Configuration
REDIS_URL=redis://localhost:6379
START_WORKERS=false

# Cron Configuration
ENABLE_CRON_JOBS=false
